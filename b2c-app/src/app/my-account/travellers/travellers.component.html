<div *ngIf="region === 'ABSA'" class="travellers_section">
  <div class="existing_travellers pt-2" *ngIf="credentials">
    <div
      class="travellers_list theme__section-container pt-2"
      #travellers_list
      *ngIf="
        credentials && credentials.data && credentials.data.travellerList && credentials.data.travellerList.length > 0
      "
    >
      <h5 class="theme__saved-travellers-heading" translate>Saved Travellers</h5>
      <!-- <p >Saved Adults</p> -->
      <ul>
        <li
          *ngFor="let traveller of credentials.data.travellerList; let i = index"
          class="theme__my-profile-list-item item"
        >
          <div class="tInfo pull-left-xs col-9 p-0">
            <span class="name mb-2"
              >{{ traveller.personName.nameTitle | titlecase }}. {{ traveller.personName.givenName | uppercase }}
            </span>
            <div>
              <label translate class="mb-0">Passport ID</label>
              <label class="pId mb-0" *ngIf="traveller.passport.passportNumber">{{
                traveller.passport.passportNumber
              }}</label>
              <label class="pId mb-0" *ngIf="!traveller.passport.passportNumber"> &nbsp; </label>
            </div>
          </div>
          <div class="float-right col-3 p-0 text-right">
            <a onKeyPress="handleKeyPressEvent(event, traveller)" (click)="openDialog(traveller)">
              <img ImageSrc class="show mr-2" src="../../../assets/icons/delete_icn.svg" width="11px" alt="delete" />
            </a>
            <a onKeyPress="handleKeyPressEvent(event, traveller)" (click)="editTraveller(traveller, firstName)">
              <img ImageSrc class="show" src="../../../assets/icons/absa_icons/edit.svg" width="16px" alt="edit" />
            </a>
          </div>
        </li>
      </ul>
      <span
        class="addPassengerView"
        *ngIf="
          region !== 'ABSA' &&
          responsiveservice.screenWidth === 'sm' &&
          !isElementVisible(addTraveller_Cls) &&
          credentials.data &&
          credentials.data.travellerList &&
          credentials.data.travellerList.length > 5
        "
        [style.display]="
          responsiveservice.screenWidth === 'sm' &&
          !isElementVisible(addTraveller_Cls) &&
          credentials.data &&
          credentials.data.travellerList &&
          credentials.data.travellerList.length > 5
            ? 'block'
            : 'none'
        "
      >
        <a onKeyPress="handleKeyPressEvent(event,addTraveller_Cls )" (click)="addpassengerView(addTraveller_Cls)">
          <img ImageSrc src="../../../assets/icons/add-passengers-icn.svg" alt="addpassenger" />
        </a>
      </span>
    </div>
  </div>
  <div class="add_travellers_section">
    <div class="nam_req d-none d-md-block">
      <label translate class="bld_hdg">Name Requirements</label>
      <div class="row">
        <div class="col-sm-8 pl-4">
          <ul>
            <li translate>The passenger’s name must be entered exactly as it appears on their ID or passport.</li>
            <li translate>
              All names must be entered in English.
              <br />
              <!-- <a class="mt-3" href="href">View more name guidelines</a> -->
            </li>
          </ul>
        </div>
        <div class="col-sm-4">
          <img ImageSrc class="float-right" src="./../../../assets/images/pax_with_id.png" alt="requirements" />
        </div>
      </div>
    </div>
    <div class="add_travellers">
      <div *ngIf="add_error" class="add_error_cls">
        <p class="mb-0">{{ errorMsg }}</p>
      </div>
      <form [formGroup]="addTravellerForm" class="addTraveller_Cls" #addTraveller_Cls>
        <div>
          <div class="mb-2">
            <div class="theme__section-container">
              <div class="mb-2">
                <div class="clearfix"></div>
                <div translate class="theme__traveller-section-header">Personal Information</div>
                <div class="form-row theme__traveller-warning-box">
                  <div class="theme__traveller-warning-box-heading-container">
                    <img ImageSrc src="./../../../assets/icons/absa_icons/error-icon.svg" alt="warning" />
                    <div translate class="theme__warning-text theme__traveller-warning-box-heading ml-1">
                      Avoid modification charges
                    </div>
                  </div>
                  <div translate class="theme__warning-text theme__traveller-warning-box-content">
                    The traveller name must be entered exactly as it appears on your government issued ID or Passport.
                  </div>
                </div>
                <div class="form-row">
                  <div class="col-md-5 ml-2">
                    <label class="btn mr-3 p-0">
                      <input
                        type="radio"
                        class="form-switch radio_1set"
                        name="gender"
                        formControlName="gender"
                        value="Mr"
                      />
                      <span translate>Mr</span>
                    </label>
                    <label class="btn mr-3 p-0">
                      <input
                        type="radio"
                        class="form-switch radio_1set"
                        name="gender"
                        formControlName="gender"
                        value="Ms"
                      />
                      <span translate>Ms</span>
                    </label>
                    <label class="btn p-0">
                      <input
                        type="radio"
                        class="form-switch radio_1set"
                        name="gender"
                        formControlName="gender"
                        value="Mrs"
                      />
                      <span translate>Mrs</span>
                    </label>
                    <div *ngIf="submitted && form.gender.errors">
                      <div translate class="validation_msg" *ngIf="submitted && form.gender.errors.required">
                        Required Title
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="form-row mb-3 mb-xs-0 flex-column">
                <div class="col-md-3 mb-3 formColPad col-lg-6">
                  <input
                    type="text"
                    #firstName
                    class="form-control"
                    formControlName="firstName"
                    placeholder="{{ 'First name' | translate }}"
                    required
                  />
                  <div *ngIf="submitted && form.firstName.errors">
                    <div translate class="validation_msg" *ngIf="submitted && form.firstName.errors.required">
                      Required First name
                    </div>
                  </div>
                  <div
                    translate
                    class="validation_msg"
                    *ngIf="submitted && form.firstName.errors && form.firstName.errors.pattern"
                  >
                    Invalid First Name
                  </div>
                </div>
                <div class="col-md-3 mb-3 formColPad col-lg-6">
                  <input
                    type="text"
                    class="form-control"
                    name="middleName"
                    placeholder="{{ 'Middle name' | translate }}"
                    formControlName="middleName"
                  />
                  <div *ngIf="submitted && form.middleName.errors">
                    <div
                      translate
                      class="validation_msg"
                      *ngIf="submitted && form.middleName.errors && form.middleName.errors.pattern"
                    >
                      Invalid Middle name
                    </div>
                  </div>
                </div>

                <div class="col-md-3 mb-3 formColPad col-lg-6">
                  <div class="input-group">
                    <input
                      type="text"
                      class="form-control"
                      placeholder="{{ 'Surname' | translate }}"
                      required
                      formControlName="surName"
                    />
                  </div>

                  <div
                    translate
                    class="validation_msg"
                    *ngIf="submitted && form.surName.errors && form.surName.errors.pattern"
                  >
                    Invalid Surname
                  </div>

                  <div *ngIf="submitted && form.surName.errors">
                    <div translate class="validation_msg" *ngIf="submitted && form.surName.errors.required">
                      Required Surname
                    </div>
                  </div>
                </div>

                <div
                  class="col-md-3 mb-3 pick_date formColPad col-lg-6"
                  [ngClass]="{
                    datepick: responsiveservice.screenWidth !== 'sm' && responsiveservice.screenWidth !== 'md',
                  }"
                >
                  <label translate class="control-label">Date of birth</label>
                  <div class="input-group dobSelection">
                    <div class="form-group col day dobDay col-lg-2" (click)="isdayFocused()">
                      <mat-select
                        (selectionChange)="selectionDob($event, 'day')"
                        disableOptionCentering
                        panelClass="dateSelection"
                        class="form-control dateSelect bor-none-right dobDaySelect"
                        formControlName="dobDay"
                        name="selectedDay"
                        placeholder="day"
                      >
                        <mat-option *ngFor="let day of days" [value]="day">{{ day }}</mat-option>
                      </mat-select>
                    </div>
                    <div class="form-group col month col-lg-2">
                      <mat-select
                        (selectionChange)="selectionDob($event, 'month')"
                        disableOptionCentering
                        panelClass="dateSelection"
                        class="form-control pt-1 dateSelect bor-none-right bor-rad-0"
                        formControlName="dobMonth"
                        name="selectedMonth"
                        placeholder="month"
                      >
                        <mat-option *ngFor="let month of months; let i = index" [value]="i + 1">{{ month }}</mat-option>
                      </mat-select>
                    </div>
                    <div class="form-group col month col-lg-2">
                      <mat-select
                        (selectionChange)="selectionDob($event, 'year')"
                        disableOptionCentering
                        panelClass="dateSelection"
                        class="form-control pt-1 dateSelect dobYearSelect"
                        formControlName="dobYear"
                        name="selectedMonth"
                        placeholder="year"
                      >
                        <mat-option *ngFor="let year of dobArray; let i = index" [value]="year">{{ year }}</mat-option>
                      </mat-select>
                    </div>
                  </div>
                  <div
                    translate
                    class="validation_msg"
                    *ngIf="
                      (submitted &&
                        !addTravellerForm.get('dobDay').value &&
                        !addTravellerForm.get('dobMonth').value &&
                        !addTravellerForm.get('dobYear').value) ||
                      (submitted &&
                        addTravellerForm.get('dobDay').value &&
                        !addTravellerForm.get('dobMonth').value &&
                        !addTravellerForm.get('dobYear').value) ||
                      (submitted &&
                        addTravellerForm.get('dobMonth').value &&
                        !addTravellerForm.get('dobDay').value &&
                        !addTravellerForm.get('dobYear').value) ||
                      (submitted &&
                        addTravellerForm.get('dobYear').value &&
                        !addTravellerForm.get('dobDay').value &&
                        !addTravellerForm.get('dobMonth').value)
                    "
                  >
                    Please select a valid date of birth
                  </div>
                  <div
                    translate
                    class="validation_msg"
                    *ngIf="
                      submitted &&
                      addTravellerForm.get('dobDay').value &&
                      addTravellerForm.get('dobYear').value &&
                      !addTravellerForm.get('dobMonth').value
                    "
                  >
                    Please select a month
                  </div>
                  <div
                    translate
                    class="validation_msg"
                    *ngIf="
                      submitted &&
                      !addTravellerForm.get('dobDay').value &&
                      addTravellerForm.get('dobMonth').value &&
                      addTravellerForm.get('dobYear').value
                    "
                  >
                    Please select a day
                  </div>
                  <div
                    translate
                    class="validation_msg"
                    *ngIf="
                      submitted &&
                      !addTravellerForm.get('dobYear').value &&
                      addTravellerForm.get('dobMonth').value &&
                      addTravellerForm.get('dobDay').value
                    "
                  >
                    Please select a year
                  </div>
                  <div
                    translate
                    class="validation_msg"
                    *ngIf="
                      submitted && addTravellerForm?.get('dob')?.value && checkDate(addTravellerForm.get('dob').value)
                    "
                  >
                    Invalid date of birth
                  </div>
                </div>
                <div class="col-md-3 mb-3 formColPad col-lg-6">
                  <div class="form-group">
                    <div class="input-group">
                      <mat-select
                        class="form-control"
                        placeholder="{{ 'Nationality' | translate }}"
                        formControlName="nationality"
                        disableOptionCentering
                        panelClass="selectCountry"
                      >
                        <mat-option *ngIf="apiService.extractCountryFromDomain() === 'ZA'" value="South Africa">
                          <span> <span class="fi fi-za"></span>&nbsp;<span>South Africa</span></span>
                        </mat-option>
                        <mat-option value="Nigeria" *ngIf="apiService.extractCountryFromDomain() === 'NG'">
                          <span class="fi fi-ng"></span>&nbsp;<span>Nigeria</span>
                        </mat-option>
                        <mat-option *ngFor="let countries of countriesArray" [value]="countries.name">
                          <span class="fi fi-{{ countries.isoCode.toLowerCase() }}"></span>&nbsp;<span>{{
                            countries['name']
                          }}</span>
                        </mat-option>
                      </mat-select>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="theme__section-container">
              <div translate class="theme__traveller-section-header">Passport information</div>
              <div translate class="theme__passport-info-content mb-2">
                Please ensure your passport is valid for at least 6 months after you date of travel.
              </div>
              <div class="clearfix"></div>
              <div class="form-row mb-3 mb-xs-0 flex-column">
                <div class="col-md-3 mb-3 formColPad col-lg-6">
                  <input
                    type="text"
                    class="form-control"
                    placeholder="{{ 'Passport number' | translate }}"
                    formControlName="passportNumber"
                  />
                  <div
                    translate
                    class="validation_msg"
                    *ngIf="submitted && form.passportNumber.errors && form.passportNumber.errors.pattern"
                  >
                    Invalid Passport number
                  </div>
                </div>
                <div
                  class="col-md-3 mb-3 pick_date formColPad col-lg-6"
                  [ngClass]="{
                    datepick: responsiveservice.screenWidth !== 'sm' && responsiveservice.screenWidth !== 'md',
                  }"
                >
                  <label translate class="control-label">Passport expiry</label>
                  <div class="input-group dobSelection">
                    <div class="form-group col month col-lg-2" (click)="ispsExpdayFocused()">
                      <mat-select
                        (selectionChange)="passportExpSelection($event, 'day')"
                        panelClass="dateSelection"
                        disableOptionCentering
                        class="form-control dateSelect bor-none-right dobDaySelect"
                        formControlName="psExpDay"
                        panelClass="dateSelection"
                        name="selectedDay"
                        placeholder="day"
                      >
                        <mat-option *ngFor="let day of days" [value]="day">{{ day }}</mat-option>
                      </mat-select>
                    </div>
                    <div class="form-group col month col-lg-2">
                      <mat-select
                        (selectionChange)="passportExpSelection($event, 'month')"
                        panelClass="dateSelection"
                        disableOptionCentering
                        class="form-control pt-1 dateSelect bor-rad-0 bor-none-right"
                        formControlName="psExpMonth"
                        name="selectedMonth"
                        placeholder="month"
                      >
                        <mat-option *ngFor="let month of months; let i = index" [value]="i + 1">{{ month }}</mat-option>
                      </mat-select>
                    </div>
                    <div class="form-group col month col-lg-2">
                      <mat-select
                        (selectionChange)="passportExpSelection($event, 'year')"
                        panelClass="dateSelection"
                        disableOptionCentering
                        class="form-control pt-1 dateSelect dobYearSelect"
                        formControlName="psExpYear"
                        name="selectedMonth"
                        placeholder="year"
                      >
                        <mat-option *ngFor="let year of psExpYearArray; let i = index" [value]="year"
                          >{{ year }}
                        </mat-option>
                      </mat-select>
                    </div>
                  </div>
                  <div
                    *ngIf="
                      submitted &&
                      addTravellerForm.get('psExpDay').value &&
                      addTravellerForm.get('psExpYear').value &&
                      addTravellerForm.get('psExpMonth').value &&
                      !checkDate(addTravellerForm?.get('passportExpiry')?.value)
                    "
                    class="validation_msg"
                  >
                    Invalid passport expiry
                  </div>

                  <div
                    translate
                    class="validation_msg"
                    *ngIf="
                      (submitted &&
                        !addTravellerForm.get('psExpDay').value &&
                        !addTravellerForm.get('psExpMonth').value &&
                        !addTravellerForm.get('psExpYear').value) ||
                      (submitted &&
                        addTravellerForm.get('psExpDay').value &&
                        !addTravellerForm.get('psExpMonth').value &&
                        !addTravellerForm.get('psExpYear').value) ||
                      (submitted &&
                        addTravellerForm.get('psExpMonth').value &&
                        !addTravellerForm.get('psExpDay').value &&
                        !addTravellerForm.get('psExpYear').value) ||
                      (submitted &&
                        addTravellerForm.get('psExpYear').value &&
                        !addTravellerForm.get('psExpDay').value &&
                        !addTravellerForm.get('psExpMonth').value)
                    "
                  >
                    Please select a valid passport expiry
                  </div>

                  <div
                    translate
                    class="validation_msg"
                    *ngIf="
                      submitted &&
                      addTravellerForm.get('psExpDay').value &&
                      addTravellerForm.get('psExpYear').value &&
                      !addTravellerForm.get('psExpMonth').value
                    "
                  >
                    Please select a month
                  </div>
                  <div
                    translate
                    class="validation_msg"
                    *ngIf="
                      submitted &&
                      !addTravellerForm.get('psExpDay').value &&
                      addTravellerForm.get('psExpMonth').value &&
                      addTravellerForm.get('psExpYear').value
                    "
                  >
                    Please select a day
                  </div>
                  <div
                    translate
                    class="validation_msg"
                    *ngIf="
                      submitted &&
                      !addTravellerForm.get('psExpYear').value &&
                      addTravellerForm.get('psExpMonth').value &&
                      addTravellerForm.get('psExpDay').value
                    "
                  >
                    Please select a year
                  </div>
                </div>
                <div class="col-md-3 mb-3 formColPad col-lg-6">
                  <div class="input-group">
                    <mat-select
                      class="form-control"
                      placeholder="{{ 'Passport issuing country' | translate }}"
                      formControlName="passPortCountry"
                      disableOptionCentering
                      panelClass="selectCountry"
                    >
                      <mat-option *ngIf="apiService.extractCountryFromDomain() === 'ZA'" value="South Africa">
                        <span> <span class="fi fi-za"></span>&nbsp;<span>South Africa</span></span>
                      </mat-option>
                      <mat-option value="Nigeria" *ngIf="apiService.extractCountryFromDomain() === 'NG'">
                        <span class="fi fi-ng"></span>&nbsp;<span>Nigeria</span>
                      </mat-option>
                      <mat-option *ngFor="let countries of countriesArray" [value]="countries.name">
                        <span class="fi fi-{{ countries.isoCode.toLowerCase() }}"></span>&nbsp;<span>{{
                          countries['name']
                        }}</span>
                      </mat-option>
                    </mat-select>
                  </div>
                </div>
              </div>
            </div>
            <span
              class="scrollToTop"
              *ngIf="
                region !== 'ABSA' &&
                responsiveservice.screenWidth === 'sm' &&
                credentials.data &&
                credentials.data.travellerList &&
                credentials.data.travellerList.length > 5
              "
            >
              <img ImageSrc src="../../../assets/icons/page-up-arrow.svg" alt="addpassenger" (click)="scrolltoTop()" />
            </span>
            <div class="form-row">
              <div class="col-sm-12 text-center text-md-right pr-lg-10" *ngIf="!updateBtn">
                <button class="sub_btn primary_btn" (click)="onSubmit()"><span translate>Save</span></button>
              </div>
              <div class="col-sm-12 text-right pr-5" *ngIf="updateBtn">
                <button class="cancel_btn mr-2" (click)="cancel()"><span translate>Cancel</span></button>
                <button class="update_btn primary_btn" (click)="update()"><span translate>Update</span></button>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
<div *ngIf="region !== 'ABSA'" class="travellers_section">
  <div class="existing_travellers" *ngIf="credentials">
    <div
      class="travellers_list"
      #travellers_list
      *ngIf="
        credentials && credentials.data && credentials.data.travellerList && credentials.data.travellerList.length > 0
      "
    >
      <h5 translate>Saved Travellers</h5>
      <!-- <p >Saved Adults</p> -->
      <ul>
        <li *ngFor="let traveller of credentials.data.travellerList; let i = index" class="items">
          <div class="tInfo pull-left-xs col-9 p-0">
            <span class="name mb-2"
              >{{ traveller.personName.nameTitle | uppercase }}. {{ traveller.personName.givenName | uppercase }}
            </span>
            <div>
              <label translate class="mb-0">Passport ID</label>
              <label class="pId mb-0" *ngIf="traveller.passport.passportNumber">{{
                traveller.passport.passportNumber
              }}</label>
              <label class="pId mb-0" *ngIf="!traveller.passport.passportNumber"> &nbsp; </label>
            </div>
          </div>
          <div class="float-right col-3 p-0 text-right">
            <a onKeyPress="handleKeyPressEvent(event, traveller)" (click)="editTraveller(traveller, firstName)">
              <img ImageSrc class="show mr-2" src="../../../assets/icons/edit.svg" width="16px" alt="edit" />
            </a>

            <a onKeyPress="handleKeyPressEvent(event, traveller)" (click)="openDialog(traveller)">
              <img ImageSrc class="show" src="../../../assets/icons/delete_icn.svg" width="11px" alt="delete" />
            </a>
          </div>
        </li>
      </ul>
      <span
        class="addPassengerView"
        *ngIf="
          region !== 'ABSA' &&
          responsiveservice.screenWidth === 'sm' &&
          !isElementVisible(addTraveller_Cls) &&
          credentials.data &&
          credentials.data.travellerList &&
          credentials.data.travellerList.length > 5
        "
        [style.display]="
          responsiveservice.screenWidth === 'sm' &&
          !isElementVisible(addTraveller_Cls) &&
          credentials.data &&
          credentials.data.travellerList &&
          credentials.data.travellerList.length > 5
            ? 'block'
            : 'none'
        "
      >
        <a onKeyPress="handleKeyPressEvent(event,addTraveller_Cls )" (click)="addpassengerView(addTraveller_Cls)">
          <img ImageSrc src="../../../assets/icons/add-passengers-icn.svg" alt="addpassenger" />
        </a>
      </span>
    </div>
  </div>
  <div class="add_travellers_section">
    <div class="nam_req d-none d-md-block">
      <label translate class="bld_hdg">Name Requirements</label>
      <div class="row">
        <div class="col-sm-8 pl-4">
          <ul>
            <li translate>The passenger’s name must be entered exactly as it appears on their ID or passport.</li>
            <li translate>
              All names must be entered in English.
              <br />
              <!-- <a class="mt-3" href="href">View more name guidelines</a> -->
            </li>
          </ul>
        </div>
        <div class="col-sm-4">
          <img ImageSrc class="float-right" src="./../../../assets/images/pax_with_id.png" alt="requirements" />
        </div>
      </div>
    </div>
    <div class="add_travellers">
      <div *ngIf="add_error" class="add_error_cls">
        <p class="mb-0">{{ errorMsg }}</p>
      </div>
      <form [formGroup]="addTravellerForm" class="addTraveller_Cls" #addTraveller_Cls>
        <div>
          <div class="mb-2">
            <div class="mb-2">
              <div class="clearfix"></div>
              <div class="form-row">
                <div class="col-md-5 mb-3">
                  <label class="btn mr-3 p-0">
                    <input
                      type="radio"
                      class="form-switch radio_1set"
                      name="gender"
                      formControlName="gender"
                      value="Mr"
                    />
                    <span translate>Mr</span>
                  </label>
                  <label class="btn mr-3 p-0">
                    <input
                      type="radio"
                      class="form-switch radio_1set"
                      name="gender"
                      formControlName="gender"
                      value="Ms"
                    />
                    <span translate>Ms</span>
                  </label>
                  <label class="btn p-0">
                    <input
                      type="radio"
                      class="form-switch radio_1set"
                      name="gender"
                      formControlName="gender"
                      value="Mrs"
                    />
                    <span translate>Mrs</span>
                  </label>
                  <div *ngIf="submitted && form.gender.errors">
                    <div translate class="validation_msg" *ngIf="submitted && form.gender.errors.required">
                      Required Title
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="form-row mb-3 mb-xs-0">
              <div class="col-md-3 mb-3 formColPad">
                <label translate class="control-label">First name</label>
                <input
                  type="text"
                  #firstName
                  class="form-control"
                  formControlName="firstName"
                  placeholder="{{ 'First name' | translate }}"
                  required
                />
                <div *ngIf="submitted && form.firstName.errors">
                  <div translate class="validation_msg" *ngIf="submitted && form.firstName.errors.required">
                    Required First name
                  </div>
                </div>
                <div
                  translate
                  class="validation_msg"
                  *ngIf="submitted && form.firstName.errors && form.firstName.errors.pattern"
                >
                  Invalid First Name
                </div>
              </div>
              <div class="col-md-3 mb-3 formColPad">
                <label translate class="control-label">Middle name</label>
                <input
                  type="text"
                  class="form-control"
                  name="middleName"
                  placeholder="{{ 'Middle name' | translate }}"
                  formControlName="middleName"
                />
                <div *ngIf="submitted && form.middleName.errors">
                  <div
                    translate
                    class="validation_msg"
                    *ngIf="submitted && form.middleName.errors && form.middleName.errors.pattern"
                  >
                    Invalid Middle name
                  </div>
                </div>
              </div>

              <div class="col-md-3 mb-3 formColPad">
                <label translate class="control-label">Surname</label>
                <div class="input-group">
                  <input
                    type="text"
                    class="form-control"
                    placeholder="{{ 'Surname' | translate }}"
                    required
                    formControlName="surName"
                  />
                </div>

                <div
                  translate
                  class="validation_msg"
                  *ngIf="submitted && form.surName.errors && form.surName.errors.pattern"
                >
                  Invalid Surname
                </div>

                <div *ngIf="submitted && form.surName.errors">
                  <div translate class="validation_msg" *ngIf="submitted && form.surName.errors.required">
                    Required Surname
                  </div>
                </div>
              </div>

              <div
                class="col-md-3 mb-3 pick_date formColPad"
                [ngClass]="{
                  datepick: responsiveservice.screenWidth !== 'sm' && responsiveservice.screenWidth !== 'md',
                }"
              >
                <label translate class="control-label">Date of birth</label>
                <div class="input-group dobSelection">
                  <div class="form-group col day dobDay" (click)="isdayFocused()">
                    <mat-select
                      (selectionChange)="selectionDob($event, 'day')"
                      disableOptionCentering
                      panelClass="dateSelection"
                      class="form-control dateSelect bor-none-right dobDaySelect"
                      formControlName="dobDay"
                      name="selectedDay"
                      placeholder="day"
                    >
                      <mat-option *ngFor="let day of days" [value]="day">{{ day }}</mat-option>
                    </mat-select>
                  </div>
                  <div class="form-group col month">
                    <mat-select
                      (selectionChange)="selectionDob($event, 'month')"
                      disableOptionCentering
                      panelClass="dateSelection"
                      class="form-control pt-1 dateSelect bor-none-right bor-rad-0"
                      formControlName="dobMonth"
                      name="selectedMonth"
                      placeholder="month"
                    >
                      <mat-option *ngFor="let month of months; let i = index" [value]="i + 1">{{ month }}</mat-option>
                    </mat-select>
                  </div>
                  <div class="form-group col month">
                    <mat-select
                      (selectionChange)="selectionDob($event, 'year')"
                      disableOptionCentering
                      panelClass="dateSelection"
                      class="form-control pt-1 dateSelect dobYearSelect"
                      formControlName="dobYear"
                      name="selectedMonth"
                      placeholder="year"
                    >
                      <mat-option *ngFor="let year of dobArray; let i = index" [value]="year">{{ year }}</mat-option>
                    </mat-select>
                  </div>
                </div>
                <div
                  translate
                  class="validation_msg"
                  *ngIf="
                    (submitted &&
                      !addTravellerForm.get('dobDay').value &&
                      !addTravellerForm.get('dobMonth').value &&
                      !addTravellerForm.get('dobYear').value) ||
                    (submitted &&
                      addTravellerForm.get('dobDay').value &&
                      !addTravellerForm.get('dobMonth').value &&
                      !addTravellerForm.get('dobYear').value) ||
                    (submitted &&
                      addTravellerForm.get('dobMonth').value &&
                      !addTravellerForm.get('dobDay').value &&
                      !addTravellerForm.get('dobYear').value) ||
                    (submitted &&
                      addTravellerForm.get('dobYear').value &&
                      !addTravellerForm.get('dobDay').value &&
                      !addTravellerForm.get('dobMonth').value)
                  "
                >
                  Please select a valid date of birth
                </div>
                <div
                  translate
                  class="validation_msg"
                  *ngIf="
                    submitted &&
                    addTravellerForm.get('dobDay').value &&
                    addTravellerForm.get('dobYear').value &&
                    !addTravellerForm.get('dobMonth').value
                  "
                >
                  Please select a month
                </div>
                <div
                  translate
                  class="validation_msg"
                  *ngIf="
                    submitted &&
                    !addTravellerForm.get('dobDay').value &&
                    addTravellerForm.get('dobMonth').value &&
                    addTravellerForm.get('dobYear').value
                  "
                >
                  Please select a day
                </div>
                <div
                  translate
                  class="validation_msg"
                  *ngIf="
                    submitted &&
                    !addTravellerForm.get('dobYear').value &&
                    addTravellerForm.get('dobMonth').value &&
                    addTravellerForm.get('dobDay').value
                  "
                >
                  Please select a year
                </div>
                <div
                  translate
                  class="validation_msg"
                  *ngIf="
                    submitted && addTravellerForm?.get('dob')?.value && checkDate(addTravellerForm.get('dob').value)
                  "
                >
                  Invalid date of birth
                </div>
              </div>
            </div>
            <div class="passport_info">
              <div translate class="bld_label">ID Information</div>
              <div translate class="labl">
                Please ensure the ID or passport is valid for at least 6 months from the departure date.
              </div>
            </div>
            <div class="clearfix"></div>
            <div class="form-row mb-3 mb-xs-0">
              <div class="col-md-3 mb-3 formColPad">
                <label translate class="control-label">Passport Number</label>
                <input
                  type="text"
                  class="form-control"
                  placeholder="{{ 'Passport number' | translate }}"
                  formControlName="passportNumber"
                />
                <div
                  translate
                  class="validation_msg"
                  *ngIf="submitted && form.passportNumber.errors && form.passportNumber.errors.pattern"
                >
                  Invalid Passport number
                </div>
              </div>
              <div
                class="col-md-3 mb-3 pick_date formColPad"
                [ngClass]="{
                  datepick: responsiveservice.screenWidth !== 'sm' && responsiveservice.screenWidth !== 'md',
                }"
              >
                <label translate class="control-label">Passport expiry</label>
                <div class="input-group dobSelection">
                  <div class="form-group col month" (click)="ispsExpdayFocused()">
                    <mat-select
                      (selectionChange)="passportExpSelection($event, 'day')"
                      panelClass="dateSelection"
                      disableOptionCentering
                      class="form-control dateSelect bor-none-right dobDaySelect"
                      formControlName="psExpDay"
                      panelClass="dateSelection"
                      name="selectedDay"
                      placeholder="day"
                    >
                      <mat-option *ngFor="let day of days" [value]="day">{{ day }}</mat-option>
                    </mat-select>
                  </div>
                  <div class="form-group col month">
                    <mat-select
                      (selectionChange)="passportExpSelection($event, 'month')"
                      panelClass="dateSelection"
                      disableOptionCentering
                      class="form-control pt-1 dateSelect bor-rad-0 bor-none-right"
                      formControlName="psExpMonth"
                      name="selectedMonth"
                      placeholder="month"
                    >
                      <mat-option *ngFor="let month of months; let i = index" [value]="i + 1">{{ month }}</mat-option>
                    </mat-select>
                  </div>
                  <div class="form-group col month">
                    <mat-select
                      (selectionChange)="passportExpSelection($event, 'year')"
                      panelClass="dateSelection"
                      disableOptionCentering
                      class="form-control pt-1 dateSelect dobYearSelect"
                      formControlName="psExpYear"
                      name="selectedMonth"
                      placeholder="year"
                    >
                      <mat-option *ngFor="let year of psExpYearArray; let i = index" [value]="year"
                        >{{ year }}
                      </mat-option>
                    </mat-select>
                  </div>
                </div>
                <div
                  *ngIf="
                    submitted &&
                    addTravellerForm.get('psExpDay').value &&
                    addTravellerForm.get('psExpYear').value &&
                    addTravellerForm.get('psExpMonth').value &&
                    !checkDate(addTravellerForm?.get('passportExpiry')?.value)
                  "
                  class="validation_msg"
                >
                  Invalid passport expiry
                </div>

                <div
                  translate
                  class="validation_msg"
                  *ngIf="
                    (submitted &&
                      !addTravellerForm.get('psExpDay').value &&
                      !addTravellerForm.get('psExpMonth').value &&
                      !addTravellerForm.get('psExpYear').value) ||
                    (submitted &&
                      addTravellerForm.get('psExpDay').value &&
                      !addTravellerForm.get('psExpMonth').value &&
                      !addTravellerForm.get('psExpYear').value) ||
                    (submitted &&
                      addTravellerForm.get('psExpMonth').value &&
                      !addTravellerForm.get('psExpDay').value &&
                      !addTravellerForm.get('psExpYear').value) ||
                    (submitted &&
                      addTravellerForm.get('psExpYear').value &&
                      !addTravellerForm.get('psExpDay').value &&
                      !addTravellerForm.get('psExpMonth').value)
                  "
                >
                  Please select a valid passport expiry
                </div>

                <div
                  translate
                  class="validation_msg"
                  *ngIf="
                    submitted &&
                    addTravellerForm.get('psExpDay').value &&
                    addTravellerForm.get('psExpYear').value &&
                    !addTravellerForm.get('psExpMonth').value
                  "
                >
                  Please select a month
                </div>
                <div
                  translate
                  class="validation_msg"
                  *ngIf="
                    submitted &&
                    !addTravellerForm.get('psExpDay').value &&
                    addTravellerForm.get('psExpMonth').value &&
                    addTravellerForm.get('psExpYear').value
                  "
                >
                  Please select a day
                </div>
                <div
                  translate
                  class="validation_msg"
                  *ngIf="
                    submitted &&
                    !addTravellerForm.get('psExpYear').value &&
                    addTravellerForm.get('psExpMonth').value &&
                    addTravellerForm.get('psExpDay').value
                  "
                >
                  Please select a year
                </div>
              </div>
              <div class="col-md-3 mb-3 formColPad">
                <label translate class="control-label">Passport issuing country</label>
                <div class="input-group">
                  <mat-select
                    class="form-control"
                    placeholder="{{ 'Passport issuing country' | translate }}"
                    formControlName="passPortCountry"
                    disableOptionCentering
                    panelClass="selectCountry"
                  >
                    <mat-option *ngIf="apiService.extractCountryFromDomain() === 'ZA'" value="South Africa">
                      <span> <span class="fi fi-za"></span>&nbsp;<span>South Africa</span></span>
                    </mat-option>
                    <mat-option value="Nigeria" *ngIf="apiService.extractCountryFromDomain() === 'NG'">
                      <span class="fi fi-ng"></span>&nbsp;<span>Nigeria</span>
                    </mat-option>
                    <mat-option *ngFor="let countries of countriesArray" [value]="countries.name">
                      <span class="fi fi-{{ countries.isoCode.toLowerCase() }}"></span>&nbsp;<span>{{
                        countries['name']
                      }}</span>
                    </mat-option>
                  </mat-select>
                </div>
              </div>
              <div class="col-md-3 mb-3 formColPad">
                <label translate class="control-label">Nationality</label>
                <div class="form-group">
                  <div class="input-group">
                    <mat-select
                      class="form-control"
                      placeholder="{{ 'Nationality' | translate }}"
                      formControlName="nationality"
                      disableOptionCentering
                      panelClass="selectCountry"
                    >
                      <mat-option *ngIf="apiService.extractCountryFromDomain() === 'ZA'" value="South Africa">
                        <span> <span class="fi fi-za"></span>&nbsp;<span>South Africa</span></span>
                      </mat-option>
                      <mat-option value="Nigeria" *ngIf="apiService.extractCountryFromDomain() === 'NG'">
                        <span class="fi fi-ng"></span>&nbsp;<span>Nigeria</span>
                      </mat-option>
                      <mat-option *ngFor="let countries of countriesArray" [value]="countries.name">
                        <span class="fi fi-{{ countries.isoCode.toLowerCase() }}"></span>&nbsp;<span>{{
                          countries['name']
                        }}</span>
                      </mat-option>
                    </mat-select>
                  </div>
                </div>
              </div>
            </div>
            <span
              class="scrollToTop"
              *ngIf="
                region !== 'ABSA' &&
                responsiveservice.screenWidth === 'sm' &&
                credentials.data &&
                credentials.data.travellerList &&
                credentials.data.travellerList.length > 5
              "
            >
              <img ImageSrc src="../../../assets/icons/page-up-arrow.svg" alt="addpassenger" (click)="scrolltoTop()" />
            </span>
            <div class="form-row">
              <div class="col-sm-12 text-center text-md-right pr-lg-10" *ngIf="!updateBtn">
                <button class="sub_btn primary_btn" (click)="onSubmit()"><span translate>Save My Details</span></button>
              </div>
              <div class="col-sm-12 text-right pr-5" *ngIf="updateBtn">
                <button class="cancel_btn mr-2" (click)="cancel()"><span translate>Cancel</span></button>
                <button class="update_btn primary_btn" (click)="update()"><span translate>Update</span></button>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

<dialog id="DeleteTraveller_Modal">
  <div class="modal-dialog mdl_dialog" role="document">
    <div class="modal-content dialog_content">
      <div class="modal-body consistent-modal-body">
        <div translate class="consistent-header-txt">Delete Traveller</div>
        <div class="consistent-body-text" translate>
          Do you permanently want to remove this traveller from your saved traveller list?
        </div>
        <div class="modal-btn-container">
          <button type="button" class="cancel_btn" aria-label="Close" data-dismiss="modal">
            <span translate>Cancel</span>
          </button>
          <button type="button" class="sub_btn primary_btn" aria-label="Close" (click)="deleteTraveller()">
            <span translate>Delete</span>
          </button>
        </div>
      </div>
    </div>
  </div>
</dialog>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/lipis/flag-icons@6.6.6/css/flag-icons.min.css" />
